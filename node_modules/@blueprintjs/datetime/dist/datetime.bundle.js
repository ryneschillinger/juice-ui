!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@blueprintjs/core"),require("tslib"),require("react"),require("classnames"),require("react-day-picker")):"function"==typeof define&&define.amd?define(["@blueprintjs/core","tslib","react","classnames","react-day-picker"],t):"object"==typeof exports?exports.Datetime=t(require("@blueprintjs/core"),require("tslib"),require("react"),require("classnames"),require("react-day-picker")):(e.Blueprint=e.Blueprint||{},e.Blueprint.Datetime=t(e.Blueprint.Core,e.window,e.React,e.classNames,e.DayPicker))}(window,(function(e,t,n,a,r){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";n.r(t),n.d(t,"DateUtils",(function(){return r})),n.d(t,"Classes",(function(){return Dt})),n.d(t,"Months",(function(){return o})),n.d(t,"TimeUnit",(function(){return ae})),n.d(t,"DateInput",(function(){return ct})),n.d(t,"DatePicker",(function(){return ut})),n.d(t,"DateTimePicker",(function(){return pt})),n.d(t,"DateRangeInput",(function(){return mt})),n.d(t,"DateRangePicker",(function(){return ft})),n.d(t,"TimePicker",(function(){return it})),n.d(t,"TimePrecision",(function(){return ot}));var a={};n.r(a),n.d(a,"DATEINPUT",(function(){return l})),n.d(a,"DATEINPUT_POPOVER",(function(){return u})),n.d(a,"DATEPICKER",(function(){return c})),n.d(a,"DATEPICKER_CAPTION",(function(){return p})),n.d(a,"DATEPICKER_CAPTION_CARET",(function(){return d})),n.d(a,"DATEPICKER_CAPTION_MEASURE",(function(){return h})),n.d(a,"DATEPICKER_CAPTION_SELECT",(function(){return g})),n.d(a,"DATEPICKER_DAY",(function(){return f})),n.d(a,"DATEPICKER_DAY_DISABLED",(function(){return v})),n.d(a,"DATEPICKER_DAY_OUTSIDE",(function(){return m})),n.d(a,"DATEPICKER_DAY_SELECTED",(function(){return D})),n.d(a,"DATEPICKER_DAY_IS_TODAY",(function(){return y})),n.d(a,"DATEPICKER_DAY_WRAPPER",(function(){return S})),n.d(a,"DATEPICKER_FOOTER",(function(){return E})),n.d(a,"DATEPICKER_MONTH_SELECT",(function(){return C})),n.d(a,"DATEPICKER_YEAR_SELECT",(function(){return M})),n.d(a,"DATEPICKER_NAVBAR",(function(){return I})),n.d(a,"DATEPICKER_NAVBUTTON",(function(){return R})),n.d(a,"DATEPICKER_TIMEPICKER_WRAPPER",(function(){return P})),n.d(a,"DATERANGEPICKER",(function(){return b})),n.d(a,"DATERANGEPICKER_CONTIGUOUS",(function(){return T})),n.d(a,"DATERANGEPICKER_SINGLE_MONTH",(function(){return _})),n.d(a,"DATERANGEPICKER_DAY_SELECTED_RANGE",(function(){return O})),n.d(a,"DATERANGEPICKER_DAY_HOVERED_RANGE",(function(){return A})),n.d(a,"DATERANGEPICKER_SHORTCUTS",(function(){return N})),n.d(a,"DATERANGEPICKER_TIMEPICKERS",(function(){return w})),n.d(a,"DATETIMEPICKER",(function(){return F})),n.d(a,"TIMEPICKER",(function(){return x})),n.d(a,"TIMEPICKER_ARROW_BUTTON",(function(){return B})),n.d(a,"TIMEPICKER_ARROW_ROW",(function(){return k})),n.d(a,"TIMEPICKER_DIVIDER_TEXT",(function(){return V})),n.d(a,"TIMEPICKER_HOUR",(function(){return U})),n.d(a,"TIMEPICKER_INPUT",(function(){return j})),n.d(a,"TIMEPICKER_INPUT_ROW",(function(){return H})),n.d(a,"TIMEPICKER_MILLISECOND",(function(){return Y})),n.d(a,"TIMEPICKER_MINUTE",(function(){return K})),n.d(a,"TIMEPICKER_SECOND",(function(){return L})),n.d(a,"TIMEPICKER_AMPM_SELECT",(function(){return W}));var r={};n.r(r),n.d(r,"isDateValid",(function(){return G})),n.d(r,"areEqual",(function(){return q})),n.d(r,"areRangesEqual",(function(){return J})),n.d(r,"areSameDay",(function(){return X})),n.d(r,"areSameMonth",(function(){return Z})),n.d(r,"areSameTime",(function(){return z})),n.d(r,"clone",(function(){return Q})),n.d(r,"isDayInRange",(function(){return $})),n.d(r,"isDayRangeInRange",(function(){return ee})),n.d(r,"isMonthInRange",(function(){return te})),n.d(r,"isTimeEqualOrGreaterThan",(function(){return re})),n.d(r,"isTimeEqualOrSmallerThan",(function(){return oe})),n.d(r,"isTimeInRange",(function(){return ie})),n.d(r,"getTimeInRange",(function(){return se})),n.d(r,"isTimeSameOrAfter",(function(){return le})),n.d(r,"getDateBetween",(function(){return ue})),n.d(r,"getDateTime",(function(){return ce})),n.d(r,"getDateOnlyWithTime",(function(){return pe})),n.d(r,"getDatePreviousMonth",(function(){return de})),n.d(r,"getDateNextMonth",(function(){return he})),n.d(r,"convert24HourMeridiem",(function(){return ge})),n.d(r,"getIsPmFrom24Hour",(function(){return fe})),n.d(r,"get12HourFrom24Hour",(function(){return ve})),n.d(r,"get24HourFrom12Hour",(function(){return me})),n.d(r,"isToday",(function(){return De}));var o,i=n(0),s=i.Classes.getClassNamespace(),l=s+"-dateinput",u=l+"-popover",c=s+"-datepicker",p=c+"-caption",d=p+"-caret",h=p+"-measure",g=p+"-select",f="DayPicker-Day",v=f+"--disabled",m=f+"--outside",D=f+"--selected",y=f+"--isToday",S=c+"-day-wrapper",E=c+"-footer",C=c+"-month-select",M=c+"-year-select",I=c+"-navbar",R="DayPicker-NavButton",P=c+"-timepicker-wrapper",b=s+"-daterangepicker",T=b+"-contiguous",_=b+"-single-month",O=f+"--selected-range",A=f+"--hovered-range",N=b+"-shortcuts",w=b+"-timepickers",F=s+"-datetimepicker",x=s+"-timepicker",B=x+"-arrow-button",k=x+"-arrow-row",V=x+"-divider-text",U=x+"-hour",j=x+"-input",H=x+"-input-row",Y=x+"-millisecond",K=x+"-minute",L=x+"-second",W=x+"-ampm-select";function G(e){return e instanceof Date&&!isNaN(e.valueOf())}function q(e,t){return null==e&&null==t||null!=e&&null!=t&&e.getTime()===t.getTime()}function J(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;var n=e[0],a=e[1],r=t[0],o=t[1],i=null==n&&null==r||X(n,r),s=null==a&&null==o||X(a,o);return i&&s}function X(e,t){return Z(e,t)&&e.getDate()===t.getDate()}function Z(e,t){return null!=e&&null!=t&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function z(e,t){return null!=e&&null!=t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()&&e.getSeconds()===t.getSeconds()&&e.getMilliseconds()===t.getMilliseconds()}function Q(e){return new Date(e.getTime())}function $(e,t,n){if(void 0===n&&(n=!1),null==e)return!1;var a=Q(e),r=Q(t[0]),o=Q(t[1]);return a.setHours(0,0,0,0),r.setHours(0,0,0,0),o.setHours(0,0,0,0),r<=a&&a<=o&&(!n||!X(r,a)&&!X(a,o))}function ee(e,t){return(null==e[0]||$(e[0],t))&&(null==e[1]||$(e[1],t))}function te(e,t){if(null==e)return!1;var n=Q(e),a=Q(t[0]),r=Q(t[1]);return n.setDate(1),a.setDate(1),r.setDate(1),n.setHours(0,0,0,0),a.setHours(0,0,0,0),r.setHours(0,0,0,0),a<=n&&n<=r}!function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"}(o||(o={}));var ne,ae,re=function(e,t){return e.getTime()>=t.getTime()},oe=function(e,t){return e.getTime()<=t.getTime()};function ie(e,t,n){var a=pe(e),r=pe(t),o=pe(n),i=re(a,r),s=oe(a,o);return oe(o,r)?i||s:i&&s}function se(e,t,n){return z(t,n)?n:ie(e,t,n)?e:le(e,n)?n:t}function le(e,t){var n=pe(e),a=pe(t);return re(n,a)}function ue(e){var t=e[0].getTime(),n=e[1].getTime();return new Date(t+.5*(n-t))}function ce(e,t){return null==e?null:null==t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0):new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function pe(e){return new Date(0,0,0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function de(e){return e.getMonth()===o.JANUARY?new Date(e.getFullYear()-1,o.DECEMBER):new Date(e.getFullYear(),e.getMonth()-1)}function he(e){return e.getMonth()===o.DECEMBER?new Date(e.getFullYear()+1,o.JANUARY):new Date(e.getFullYear(),e.getMonth()+1)}function ge(e,t){if(e<0||e>23)throw new Error("hour must be between [0,23] inclusive: got "+e);return t?e%12+12:e%12}function fe(e){if(e<0||e>23)throw new Error("hour must be between [0,23] inclusive: got "+e);return e>=12}function ve(e){if(e<0||e>23)throw new Error("hour must be between [0,23] inclusive: got "+e);var t=e%12;return 0===t?12:t}function me(e,t){if(e<1||e>12)throw new Error("hour must be between [1,12] inclusive: got "+e);var n=12===e?0:e;return t?n+12:n}function De(e){return X(e,new Date)}function ye(e,t){return null!=t&&!isNaN(t)&&Ee(e)<=t&&t<=Se(e)}function Se(e){return Oe[e].max}function Ee(e){return Oe[e].min}!function(e){e.HOUR_24="hour24",e.HOUR_12="hour12",e.MINUTE="minute",e.SECOND="second",e.MS="ms"}(ae||(ae={}));var Ce=0,Me=0,Ie=0,Re=0,Pe=23,be=59,Te=59,_e=999,Oe=((ne={})[ae.HOUR_24]={className:U,max:Pe,min:Ce},ne[ae.HOUR_12]={className:U,max:12,min:1},ne[ae.MINUTE]={className:K,max:be,min:Me},ne[ae.SECOND]={className:L,max:Te,min:Ie},ne[ae.MS]={className:Y,max:_e,min:Re},ne),Ae=n(1),Ne=n(3),we=n.n(Ne),Fe=n(2);function xe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Be(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function ke(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function Ve(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==r){var o=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=xe,t.componentWillReceiveProps=Be),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ke;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,a)}}return e}function Ue(e,t,n){return void 0===n&&(n=!1),null==e?"":G(e)?n||$(e,[t.minDate,t.maxDate])?t.formatDate(e,t.locale):t.outOfRangeMessage:t.invalidDateMessage}xe.__suppressDeprecationWarning=!0,Be.__suppressDeprecationWarning=!0,ke.__suppressDeprecationWarning=!0;var je=n(4),He=n.n(je),Ye="[Blueprint]",Ke=Ye+" <DatePicker> defaultValue must be within minDate and maxDate bounds.",Le=Ye+" <DatePicker> initialMonth must be within minDate and maxDate bounds.",We=Ye+" <DatePicker> maxDate must be later than minDate.",Ge=Ye+" <DatePicker> value prop must be within minDate and maxDate bounds.",qe=Ke.replace("DatePicker","DateRangePicker"),Je=Le.replace("DatePicker","DateRangePicker"),Xe=We.replace("DatePicker","DateRangePicker"),Ze=Ge.replace("DatePicker","DateRangePicker");function ze(e,t){return e.length<t?""+function(e,t){return new Array(t+1).join(e)}("0",t-e.length)+e:e}var Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={monthRightOffset:0},t.handleMonthSelectChange=t.dateChangeHandler((function(e,t){return e.setMonth(t)}),t.props.onMonthChange),t.handleYearSelectChange=t.dateChangeHandler((function(e,t){return e.setFullYear(t)}),t.props.onYearChange),t}return Object(Ae.__extends)(t,e),t.prototype.render=function(){for(var e=this,t=this.props,n=t.date,a=t.locale,r=t.localeUtils,o=t.minDate,s=t.maxDate,l=t.months,u=void 0===l?r.getMonths(a):l,c=o.getFullYear(),d=s.getFullYear(),h=n.getMonth(),g=n.getFullYear(),f=g===c?o.getMonth():0,v=g===d?s.getMonth()+1:void 0,m=u.map((function(e,t){return{label:e,value:t}})).slice(f,v),D=[c],y=c+1;y<=d;++y)D.push(y);g>d&&D.push({value:g,disabled:!0}),this.displayedMonthText=u[h];var S=Fe.createElement(i.HTMLSelect,{iconProps:{style:{right:this.state.monthRightOffset}},className:C,key:"month",minimal:!0,onChange:this.handleMonthSelectChange,value:h,options:m}),E=Fe.createElement(i.HTMLSelect,{className:M,key:"year",minimal:!0,onChange:this.handleYearSelectChange,value:g,options:D}),I=this.props.reverseMonthAndYearMenus?[E,S]:[S,E];return Fe.createElement("div",{className:this.props.classNames.caption},Fe.createElement("div",{className:p,ref:function(t){return e.containerElement=t}},I),Fe.createElement(i.Divider,null))},t.prototype.componentDidMount=function(){var e=this;this.requestAnimationFrame((function(){return e.positionArrows()}))},t.prototype.componentDidUpdate=function(){this.positionArrows()},t.prototype.positionArrows=function(){var e=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=document.body),null==n)return 0;var a=document.createElement("span");a.classList.add(t),a.textContent=e,n.appendChild(a);var r=a.offsetWidth;return a.remove(),r}(this.displayedMonthText,h,this.containerElement),t=null==this.containerElement?0:this.containerElement.firstElementChild.clientWidth,n=Math.max(2,t-e-i.Icon.SIZE_STANDARD-2);this.setState({monthRightOffset:n})},t.prototype.dateChangeHandler=function(e,t){var n=this;return function(a){var r,o,i=parseInt(a.target.value,10);if(!isNaN(i)){var s=Q(n.props.date);e(s,i),null===(o=(r=n.props).onDateChange)||void 0===o||o.call(r,s),null==t||t(i)}}},t=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2),$e=["disabled","hovered-range","outside","selected","selected-range"];function et(){var e=new Date;return e.setFullYear(e.getFullYear()),e.setMonth(o.DECEMBER,31),e}function tt(){var e=new Date;return e.setFullYear(e.getFullYear()-20),e.setMonth(o.JANUARY,1),e}var nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleNextClick=function(){return t.props.onNextClick()},t.handlePreviousClick=function(){return t.props.onPreviousClick()},t}return Object(Ae.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.classNames,n=e.month,a=e.maxDate,r=e.minDate;return Fe.createElement("div",{className:we()(I,t.navBar)},this.props.hideLeftNavButton||Fe.createElement(i.Button,{className:t.navButtonPrev,disabled:Z(n,r),icon:"chevron-left",minimal:!0,onClick:this.handlePreviousClick}),this.props.hideRightNavButton||Fe.createElement(i.Button,{className:t.navButtonNext,disabled:Z(n,a),icon:"chevron-right",minimal:!0,onClick:this.handleNextClick}))},t}(Fe.PureComponent),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getShorcutClickHandler=function(e,n){return function(){(0,t.props.onShortcutClick)(e,n)}},t.isShortcutInRange=function(e){var n=t.props;return ee(e,[n.minDate,n.maxDate])},t}return Object(Ae.__extends)(t,e),t.prototype.render=function(){var e,t,n,a,r,o,s,l,u,c,p,d,h,g,f=this,v=(!0===this.props.shortcuts?(e=this.props.allowSingleDayRange,t=void 0!==this.props.timePrecision,n=!0===this.props.useSingleDateShortcuts,a=new Date,o=(r=function(e){var t=Q(a);return e(t),t.setDate(t.getDate()+1),t})((function(){return null})),s=r((function(e){return e.setDate(e.getDate()-2)})),l=r((function(e){return e.setDate(e.getDate()-7)})),u=r((function(e){return e.setMonth(e.getMonth()-1)})),c=r((function(e){return e.setMonth(e.getMonth()-3)})),p=r((function(e){return e.setMonth(e.getMonth()-6)})),d=r((function(e){return e.setFullYear(e.getFullYear()-1)})),h=r((function(e){return e.setFullYear(e.getFullYear()-2)})),g=e||n?[rt("Today",[a,t?o:a]),rt("Yesterday",[s,t?a:s])]:[],Object(Ae.__spreadArrays)(g,[rt(n?"1 week ago":"Past week",[l,a]),rt(n?"1 month ago":"Past month",[u,a]),rt(n?"3 months ago":"Past 3 months",[c,a])],n?[]:[rt("Past 6 months",[p,a])],[rt(n?"1 year ago":"Past year",[d,a])],n?[]:[rt("Past 2 years",[h,a])])):this.props.shortcuts).map((function(e,t){return Fe.createElement(i.MenuItem,{active:f.props.selectedShortcutIndex===t,className:i.Classes.POPOVER_DISMISS_OVERRIDE,disabled:!f.isShortcutInRange(e.dateRange),key:t,onClick:f.getShorcutClickHandler(e,t),text:e.label})}));return Fe.createElement(i.Menu,{className:N,tabIndex:0},v)},t.defaultProps={selectedShortcutIndex:-1},t}(Fe.PureComponent);function rt(e,t){return{dateRange:t,label:e}}var ot={MILLISECOND:"millisecond",MINUTE:"minute",SECOND:"second"},it=function(e){function t(t,n){var a=e.call(this,t,n)||this;a.getInputChangeHandler=function(e){return function(t){var n=lt(t);switch(e){case ae.HOUR_12:case ae.HOUR_24:a.setState({hourText:n});break;case ae.MINUTE:a.setState({minuteText:n});break;case ae.SECOND:a.setState({secondText:n});break;case ae.MS:a.setState({millisecondText:n})}}},a.getInputBlurHandler=function(e){return function(t){var n,r,o=lt(t);a.updateTime(parseInt(o,10),e),null===(r=(n=a.props).onBlur)||void 0===r||r.call(n,t,e)}},a.getInputFocusHandler=function(e){return function(t){var n,r;a.props.selectAllOnFocus&&t.currentTarget.select(),null===(r=(n=a.props).onFocus)||void 0===r||r.call(n,t,e)}},a.getInputKeyDownHandler=function(e){return function(t){var n,r,o;!function(e,t,n){void 0===n&&(n=!0);for(var a=0,r=Object.keys(t);a<r.length;a++){var o=r[a],i=Number(o);e.which===i&&(n&&e.preventDefault(),t[i]())}}(t,(n={},n[i.Keys.ARROW_UP]=function(){return a.incrementTime(e)},n[i.Keys.ARROW_DOWN]=function(){return a.decrementTime(e)},n[i.Keys.ENTER]=function(){t.currentTarget.blur()},n)),null===(o=(r=a.props).onKeyDown)||void 0===o||o.call(r,t,e)}},a.getInputKeyUpHandler=function(e){return function(t){var n,r;null===(r=(n=a.props).onKeyUp)||void 0===r||r.call(n,t,e)}},a.handleAmPmChange=function(e){var t="pm"===e.currentTarget.value;if(t!==a.state.isPm){var n=ge(a.state.value.getHours(),t);a.setState({isPm:t},(function(){return a.updateTime(n,ae.HOUR_24)}))}},a.incrementTime=function(e){return a.shiftTime(e,1)},a.decrementTime=function(e){return a.shiftTime(e,-1)};var r=t.minTime;return null!=t.value?r=t.value:null!=t.defaultValue&&(r=t.defaultValue),a.state=a.getFullStateFromValue(r,t.useAmPm),a}return Object(Ae.__extends)(t,e),t.prototype.render=function(){var e,t=this.props.precision===ot.MILLISECOND,n=t||this.props.precision===ot.SECOND,a=this.props.useAmPm?ae.HOUR_12:ae.HOUR_24,r=we()(x,this.props.className,((e={})[i.Classes.DISABLED]=this.props.disabled,e));return Fe.createElement("div",{className:r},Fe.createElement("div",{className:k},this.maybeRenderArrowButton(!0,a),this.maybeRenderArrowButton(!0,ae.MINUTE),n&&this.maybeRenderArrowButton(!0,ae.SECOND),t&&this.maybeRenderArrowButton(!0,ae.MS)),Fe.createElement("div",{className:H},this.renderInput(U,a,this.state.hourText),this.renderDivider(),this.renderInput(K,ae.MINUTE,this.state.minuteText),n&&this.renderDivider(),n&&this.renderInput(L,ae.SECOND,this.state.secondText),t&&this.renderDivider("."),t&&this.renderInput(Y,ae.MS,this.state.millisecondText)),this.maybeRenderAmPm(),Fe.createElement("div",{className:k},this.maybeRenderArrowButton(!1,a),this.maybeRenderArrowButton(!1,ae.MINUTE),n&&this.maybeRenderArrowButton(!1,ae.SECOND),t&&this.maybeRenderArrowButton(!1,ae.MS)))},t.prototype.componentDidUpdate=function(e){var t=e.minTime!==this.props.minTime,n=e.maxTime!==this.props.maxTime,a=t||n,r=e.value!==this.props.value,o=t||n||a||r,i=this.state.value;a&&(i=se(this.state.value,this.props.minTime,this.props.maxTime)),null==this.props.value||z(this.props.value,e.value)||(i=this.props.value),o&&this.setState(this.getFullStateFromValue(i,this.props.useAmPm))},t.prototype.maybeRenderArrowButton=function(e,t){var n=this;if(!this.props.showArrowButtons)return null;var a=we()(B,Oe[t].className);return Fe.createElement("span",{tabIndex:-1,className:a,onClick:function(){return(e?n.incrementTime:n.decrementTime)(t)}},Fe.createElement(i.Icon,{icon:e?"chevron-up":"chevron-down"}))},t.prototype.renderDivider=function(e){return void 0===e&&(e=":"),Fe.createElement("span",{className:V},e)},t.prototype.renderInput=function(e,t,n){var a,r=ye(t,parseInt(n,10)),o=t===ae.HOUR_12||t===ae.HOUR_24;return Fe.createElement("input",{className:we()(j,(a={},a[i.Classes.intentClass(i.Intent.DANGER)]=!r,a),e),onBlur:this.getInputBlurHandler(t),onChange:this.getInputChangeHandler(t),onFocus:this.getInputFocusHandler(t),onKeyDown:this.getInputKeyDownHandler(t),onKeyUp:this.getInputKeyUpHandler(t),value:n,disabled:this.props.disabled,autoFocus:o&&this.props.autoFocus})},t.prototype.maybeRenderAmPm=function(){return this.props.useAmPm?Fe.createElement(i.HTMLSelect,{className:W,disabled:this.props.disabled,onChange:this.handleAmPmChange,value:this.state.isPm?"pm":"am"},Fe.createElement("option",{value:"am"},"AM"),Fe.createElement("option",{value:"pm"},"PM")):null},t.prototype.getFullStateFromValue=function(e,t){var n=se(e,this.props.minTime,this.props.maxTime),a=t?ae.HOUR_12:ae.HOUR_24;return{hourText:st(n.getHours(),a),minuteText:st(n.getMinutes(),ae.MINUTE),secondText:st(n.getSeconds(),ae.SECOND),millisecondText:st(n.getMilliseconds(),ae.MS),value:n,isPm:fe(n.getHours())}},t.prototype.shiftTime=function(e,t){if(!this.props.disabled){var n=function(e,t){switch(e){case ae.HOUR_24:return t.getHours();case ae.HOUR_12:return ve(t.getHours());case ae.MINUTE:return t.getMinutes();case ae.SECOND:return t.getSeconds();case ae.MS:return t.getMilliseconds();default:throw Error("Invalid TimeUnit")}}(e,this.state.value)+t;this.updateTime(function(e,t){var n=Se(e),a=Ee(e);return t>n?a:t<a?n:t}(e,n),e)}},t.prototype.updateTime=function(e,t){var n=Q(this.state.value);ye(t,e)?(!function(e,t,n,a){switch(e){case ae.HOUR_24:n.setHours(t);break;case ae.HOUR_12:n.setHours(me(t,a));break;case ae.MINUTE:n.setMinutes(t);break;case ae.SECOND:n.setSeconds(t);break;case ae.MS:n.setMilliseconds(t);break;default:throw Error("Invalid TimeUnit")}}(t,e,n,this.state.isPm),ie(n,this.props.minTime,this.props.maxTime)?this.updateState({value:n}):this.updateState(this.getFullStateFromValue(this.state.value,this.props.useAmPm))):this.updateState(this.getFullStateFromValue(this.state.value,this.props.useAmPm))},t.prototype.updateState=function(e){var t,n,a=e,r=null!=a.value&&!z(a.value,this.state.value);null==this.props.value?(r&&(a=this.getFullStateFromValue(a.value,this.props.useAmPm)),this.setState(a)):r?this.setState(this.getFullStateFromValue(this.state.value,this.props.useAmPm)):this.setState(Object(Ae.__assign)(Object(Ae.__assign)({},a),{value:Q(this.state.value)})),r&&(null===(n=(t=this.props).onChange)||void 0===n||n.call(t,a.value))},t.defaultProps={autoFocus:!1,disabled:!1,maxTime:new Date(0,0,0,Pe,be,Te,_e),minTime:new Date(0,0,0,Ce,Me,Ie,Re),precision:ot.MINUTE,selectAllOnFocus:!1,showArrowButtons:!1,useAmPm:!1},t.displayName=i.DISPLAYNAME_PREFIX+".TimePicker",t}(Fe.Component);function st(e,t){switch(t){case ae.HOUR_24:return e.toString();case ae.HOUR_12:return ve(e).toString();case ae.MINUTE:case ae.SECOND:return ze(e.toString(),2);case ae.MS:return ze(e.toString(),3);default:throw Error("Invalid TimeUnit")}}function lt(e){return e.target.value}var ut=function(e){function t(t,n){var a=e.call(this,t,n)||this;a.ignoreNextMonthChange=!1,a.shouldHighlightCurrentDay=function(e){return a.props.highlightCurrentDay&&De(e)},a.getDatePickerModifiers=function(){var e=a.props.modifiers;return Object(Ae.__assign)({isToday:a.shouldHighlightCurrentDay},e)},a.renderDay=function(e){var t=e.getDate();return Fe.createElement("div",{className:S},t)},a.disabledDays=function(e){return!$(e,[a.props.minDate,a.props.maxDate])},a.getDisabledDaysModifier=function(){var e=a.props.dayPickerProps.disabledDays;return Array.isArray(e)?Object(Ae.__spreadArrays)([a.disabledDays],e):[a.disabledDays,e]},a.renderCaption=function(e){return Fe.createElement(Qe,Object(Ae.__assign)({},e,{maxDate:a.props.maxDate,minDate:a.props.minDate,onDateChange:a.handleMonthChange,reverseMonthAndYearMenus:a.props.reverseMonthAndYearMenus}))},a.renderNavbar=function(e){return Fe.createElement(nt,Object(Ae.__assign)({},e,{maxDate:a.props.maxDate,minDate:a.props.minDate}))},a.handleDayClick=function(e,t,n){var r,o;if(null===(o=(r=a.props.dayPickerProps).onDayClick)||void 0===o||o.call(r,e,t,n),!t.disabled){a.updateDay(e);var i=a.props.canClearSelection&&t.selected?null:ce(e,a.state.value);a.updateValue(i,!0)}},a.handleShortcutClick=function(e,t){var n=a.props,r=n.onShortcutChange,o=n.selectedShortcutIndex,i=e.dateRange,s=e.includeTime,l=i[0],u=s?l:ce(l,a.state.value);a.updateDay(l),a.updateValue(u,!0),void 0===o&&a.setState({selectedShortcutIndex:t});var c=Object(Ae.__assign)(Object(Ae.__assign)({},e),{date:e.dateRange[0]});null==r||r(c,t)},a.updateDay=function(e){void 0===a.props.value&&a.setState({displayMonth:e.getMonth(),displayYear:e.getFullYear(),selectedDay:e.getDate()}),null!=a.state.value&&a.state.value.getMonth()!==e.getMonth()&&(a.ignoreNextMonthChange=!0)},a.handleClearClick=function(){return a.updateValue(null,!0)},a.handleMonthChange=function(e){var t,n,r=a.computeValidDateInSpecifiedMonthYear(e.getFullYear(),e.getMonth());a.setState({displayMonth:r.getMonth(),displayYear:r.getFullYear()}),null!==a.state.value&&(a.updateValue(r,!1,a.ignoreNextMonthChange),a.ignoreNextMonthChange=!1),null===(n=(t=a.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,r)},a.handleTodayClick=function(){var e=new Date,t=e.getMonth(),n=e.getFullYear(),r=e.getDate();a.setState({displayMonth:t,displayYear:n,selectedDay:r}),a.updateValue(e,!0)},a.handleTimeChange=function(e){var t,n;null===(n=(t=a.props.timePickerProps).onChange)||void 0===n||n.call(t,e);var r=a.state.value,o=ce(null!=r?r:new Date,e);a.updateValue(o,!0)};var r=function(e){if(void 0!==e.value)return e.value;if(void 0!==e.defaultValue)return e.defaultValue;return null}(t),o=function(e,t){var n=new Date;return null!=e.initialMonth?e.initialMonth:null!=t?t:$(n,[e.minDate,e.maxDate])?n:ue([e.minDate,e.maxDate])}(t,r);return a.state={displayMonth:o.getMonth(),displayYear:o.getFullYear(),selectedDay:null==r?null:r.getDate(),selectedShortcutIndex:void 0!==a.props.selectedShortcutIndex?a.props.selectedShortcutIndex:-1,value:r},a}var n;return Object(Ae.__extends)(t,e),n=t,t.prototype.render=function(){var e,t=this.props,n=t.className,a=t.dayPickerProps,r=t.locale,o=t.localeUtils,i=t.maxDate,s=t.minDate,l=t.showActionsBar,u=this.state,p=u.displayMonth,d=u.displayYear;return Fe.createElement("div",{className:we()(c,n)},this.maybeRenderShortcuts(),Fe.createElement("div",null,Fe.createElement(He.a,Object(Ae.__assign)({showOutsideDays:!0,locale:r,localeUtils:o,modifiers:this.getDatePickerModifiers()},a,{canChangeMonth:!0,captionElement:this.renderCaption,navbarElement:this.renderNavbar,disabledDays:this.getDisabledDaysModifier(),fromMonth:s,month:new Date(d,p),onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange,selectedDays:this.state.value,toMonth:i,renderDay:null!==(e=null==a?void 0:a.renderDay)&&void 0!==e?e:this.renderDay})),this.maybeRenderTimePicker(),l&&this.renderOptionsBar()))},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n);var a=this.props.value;a!==t.value&&(null==a?this.setState({value:a}):this.setState({displayMonth:a.getMonth(),displayYear:a.getFullYear(),selectedDay:a.getDate(),value:a}),this.props.selectedShortcutIndex!==t.selectedShortcutIndex&&this.setState({selectedShortcutIndex:this.props.selectedShortcutIndex}))},t.prototype.validateProps=function(e){var t=e.defaultValue,n=e.initialMonth,a=e.maxDate,r=e.minDate,o=e.value;if(null!=t&&!$(t,[r,a]))throw new Error(Ke);if(null!=n&&!te(n,[r,a]))throw new Error(Le);if(null!=a&&null!=r&&a<r&&!X(a,r))throw new Error(We);if(null!=o&&!$(o,[r,a]))throw new Error(Ge)},t.prototype.renderOptionsBar=function(){var e=this.props,t=e.clearButtonText,n=e.todayButtonText;return[Fe.createElement(i.Divider,{key:"div"}),Fe.createElement("div",{className:E,key:"footer"},Fe.createElement(i.Button,{minimal:!0,onClick:this.handleTodayClick,text:n}),Fe.createElement(i.Button,{minimal:!0,onClick:this.handleClearClick,text:t}))]},t.prototype.maybeRenderTimePicker=function(){var e=this.props,t=e.timePrecision,a=e.timePickerProps,r=e.minDate,o=e.maxDate;if(null==t&&a===n.defaultProps.timePickerProps)return null;var i=X(this.state.value,r),s=X(this.state.value,o);return Fe.createElement("div",{className:P},Fe.createElement(it,Object(Ae.__assign)({precision:t,minTime:i?r:void 0,maxTime:s?o:void 0},a,{onChange:this.handleTimeChange,value:this.state.value})))},t.prototype.maybeRenderShortcuts=function(){var e=this.props.shortcuts;if(null==e||!1===e)return null;var t=this.state.selectedShortcutIndex,n=this.props,a=n.maxDate,r=n.minDate,o=n.timePrecision,s=!0===e||e.map((function(e){return Object(Ae.__assign)(Object(Ae.__assign)({},e),{dateRange:[e.date,void 0]})}));return[Fe.createElement(at,Object(Ae.__assign)({key:"shortcuts"},{allowSingleDayRange:!0,maxDate:a,minDate:r,selectedShortcutIndex:t,shortcuts:s,timePrecision:o},{onShortcutClick:this.handleShortcutClick,useSingleDateShortcuts:!0})),Fe.createElement(i.Divider,{key:"div"})]},t.prototype.computeValidDateInSpecifiedMonthYear=function(e,t){var n=this.props,a=n.minDate,r=n.maxDate,o=this.state.selectedDay,i=new Date(e,t+1,0).getDate(),s=null==o?1:Math.min(o,i),l=ce(new Date(e,t,s,12),this.state.value);return l<a?a:l>r?r:l},t.prototype.updateValue=function(e,t,n){var a,r;void 0===n&&(n=!1),n||null===(r=(a=this.props).onChange)||void 0===r||r.call(a,e,t),void 0===this.props.value&&this.setState({value:e})},t.defaultProps={canClearSelection:!0,clearButtonText:"Clear",dayPickerProps:{},highlightCurrentDay:!1,maxDate:et(),minDate:tt(),reverseMonthAndYearMenus:!1,shortcuts:!1,showActionsBar:!1,timePickerProps:{},todayButtonText:"Today"},t.displayName=i.DISPLAYNAME_PREFIX+".DatePicker",t=n=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2);var ct=function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.state={isInputFocused:!1,isOpen:!1,value:void 0!==n.props.value?n.props.value:n.props.defaultValue,valueString:null},n.inputEl=null,n.popoverContentEl=null,n.lastTabbableElement=null,n.refHandlers={input:Object(i.isRefObject)(null===(t=n.props.inputProps)||void 0===t?void 0:t.inputRef)?n.inputEl=n.props.inputProps.inputRef:function(e){var t,a;n.inputEl=e,null===(a=null===(t=n.props.inputProps)||void 0===t?void 0:t.inputRef)||void 0===a||a(e)}},n.handleClosePopover=function(e){var t,a=n.props.popoverProps,r=void 0===a?{}:a;null===(t=r.onClose)||void 0===t||t.call(r,e),n.setState({isOpen:!1})},n.handleDateChange=function(e,t,a){var r,o;void 0===a&&(a=!1);var i=n.state.value,s=!t||!n.props.closeOnSelection||null!=i&&(n.hasMonthChanged(i,e)||n.hasTimeChanged(i,e)),l=!!a;if(void 0===n.props.value){var u=Ue(e,n.props);n.setState({isInputFocused:l,isOpen:s,value:e,valueString:u})}else n.setState({isInputFocused:l,isOpen:s});null===(o=(r=n.props).onChange)||void 0===o||o.call(r,e,t)},n.handleInputFocus=function(e){var t=null==n.state.value?"":n.formatDate(n.state.value);n.setState({isInputFocused:!0,isOpen:!0,valueString:t}),n.safeInvokeInputProp("onFocus",e)},n.handleInputClick=function(e){e.stopPropagation(),n.safeInvokeInputProp("onClick",e)},n.handleInputChange=function(e){var t,a,r,o,i=e.target.value,s=n.parseDate(i);G(s)&&n.isDateInRange(s)?(void 0===n.props.value?n.setState({value:s,valueString:i}):n.setState({valueString:i}),null===(a=(t=n.props).onChange)||void 0===a||a.call(t,s,!0)):(0===i.length&&(null===(o=(r=n.props).onChange)||void 0===o||o.call(r,null,!0)),n.setState({valueString:i})),n.safeInvokeInputProp("onChange",e)},n.handleInputBlur=function(e){var t,a,r,o,i,s,l=n.state.valueString,u=n.parseDate(l);!(l.length>0&&l!==Ue(n.state.value,n.props))||G(u)&&n.isDateInRange(u)?0===l.length?n.setState({isInputFocused:!1,value:null,valueString:null}):n.setState({isInputFocused:!1}):(void 0===n.props.value?n.setState({isInputFocused:!1,value:u,valueString:null}):n.setState({isInputFocused:!1}),isNaN(u.valueOf())?null===(a=(t=n.props).onError)||void 0===a||a.call(t,new Date(void 0)):n.isDateInRange(u)?null===(s=(i=n.props).onChange)||void 0===s||s.call(i,u,!0):null===(o=(r=n.props).onError)||void 0===o||o.call(r,u)),n.registerPopoverBlurHandler(),n.safeInvokeInputProp("onBlur",e)},n.handleInputKeyDown=function(e){if(e.which===i.Keys.ENTER){var t=n.parseDate(n.state.valueString);n.handleDateChange(t,!0,!0)}else e.which===i.Keys.TAB?n.setState({isOpen:!1}):e.which===i.Keys.ESCAPE&&(n.setState({isOpen:!1}),Object(i.getRef)(n.inputEl).blur());n.safeInvokeInputProp("onKeyDown",e)},n.getLastTabbableElement=function(){var e=n.popoverContentEl.querySelectorAll("input, [tabindex]:not([tabindex='-1'])"),t=e.length;return t>0?e[t-1]:null},n.handlePopoverBlur=function(e){var t=e.relatedTarget;null==t&&(t=document.activeElement);var a=e.target;if(null==t||null!=n.popoverContentEl&&!n.popoverContentEl.contains(t)){var r=a.classList.contains(R)&&a.disabled,o=a.classList.contains(f);r||o||n.handleClosePopover()}else null!=t&&(n.unregisterPopoverBlurHandler(),n.lastTabbableElement=n.getLastTabbableElement(),n.lastTabbableElement.addEventListener("blur",n.handlePopoverBlur))},n.registerPopoverBlurHandler=function(){null!=n.popoverContentEl&&(n.unregisterPopoverBlurHandler(),n.lastTabbableElement=n.getLastTabbableElement(),n.lastTabbableElement.addEventListener("blur",n.handlePopoverBlur))},n.unregisterPopoverBlurHandler=function(){null!=n.lastTabbableElement&&n.lastTabbableElement.removeEventListener("blur",n.handlePopoverBlur)},n.handleShortcutChange=function(e,t){n.setState({selectedShortcutIndex:t})},n}return Object(Ae.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.unregisterPopoverBlurHandler()},t.prototype.render=function(){var e=this,t=this.state,n=t.value,a=t.valueString,r=this.state.isInputFocused?a:Ue(n,this.props),o=G(n)?n:null,s=Object(Ae.__assign)(Object(Ae.__assign)({},this.props.dayPickerProps),{onDayKeyDown:function(t,n,a){var r,o;"Tab"===a.key&&!a.shiftKey&&e.lastTabbableElement.classList.contains(f)&&e.setState({isOpen:!1}),null===(o=(r=e.props.dayPickerProps).onDayKeyDown)||void 0===o||o.call(r,t,n,a)},onMonthChange:function(t){var n,a;null===(a=(n=e.props.dayPickerProps).onMonthChange)||void 0===a||a.call(n,t),e.setTimeout(e.registerPopoverBlurHandler)}}),l=Fe.createElement("div",{ref:function(t){return e.popoverContentEl=t}},Fe.createElement(ut,Object(Ae.__assign)({},this.props,{dayPickerProps:s,onChange:this.handleDateChange,value:o,onShortcutChange:this.handleShortcutChange,selectedShortcutIndex:this.state.selectedShortcutIndex}))),c=this.props,p=c.inputProps,d=void 0===p?{}:p,h=c.popoverProps,g=void 0===h?{}:h,v=!(null==n||G(n)&&this.isDateInRange(n));return Fe.createElement(i.Popover,Object(Ae.__assign)({isOpen:this.state.isOpen&&!this.props.disabled,fill:this.props.fill},g,{autoFocus:!1,className:we()(g.className,this.props.className),content:l,enforceFocus:!1,onClose:this.handleClosePopover,popoverClassName:we()(u,g.popoverClassName)}),Fe.createElement(i.InputGroup,Object(Ae.__assign)({autoComplete:"off",intent:v?i.Intent.DANGER:i.Intent.NONE,placeholder:this.props.placeholder,rightElement:this.props.rightElement,type:"text"},d,{disabled:this.props.disabled,inputRef:this.refHandlers.input,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onClick:this.handleInputClick,onFocus:this.handleInputFocus,onKeyDown:this.handleInputKeyDown,value:r})))},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),t.value!==this.props.value&&this.setState({value:this.props.value})},t.prototype.isDateInRange=function(e){return $(e,[this.props.minDate,this.props.maxDate])},t.prototype.hasMonthChanged=function(e,t){return null==e!=(null==t)||t.getMonth()!==e.getMonth()},t.prototype.hasTimeChanged=function(e,t){return null!=this.props.timePrecision&&(null==e!=(null==t)||t.getHours()!==e.getHours()||t.getMinutes()!==e.getMinutes()||t.getSeconds()!==e.getSeconds()||t.getMilliseconds()!==e.getMilliseconds())},t.prototype.safeInvokeInputProp=function(e,t){var n,a=this.props.inputProps,r=void 0===a?{}:a;null===(n=r[e])||void 0===n||n.call(r,t)},t.prototype.parseDate=function(e){if(e===this.props.outOfRangeMessage||e===this.props.invalidDateMessage)return null;var t=this.props,n=t.locale,a=(0,t.parseDate)(e,n);return!1===a?new Date(void 0):a},t.prototype.formatDate=function(e){if(!G(e)||!this.isDateInRange(e))return"";var t=this.props,n=t.locale;return(0,t.formatDate)(e,n)},t.displayName=i.DISPLAYNAME_PREFIX+".DateInput",t.defaultProps={closeOnSelection:!0,dayPickerProps:{},disabled:!1,invalidDateMessage:"Invalid date",maxDate:et(),minDate:tt(),outOfRangeMessage:"Out of range",reverseMonthAndYearMenus:!1},t=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2),pt=function(e){function t(t,n){var a=e.call(this,t,n)||this;a.handleDateChange=function(e,t){var n,r;void 0===a.props.value&&a.setState({dateValue:e});var o=ce(e,a.state.timeValue);null===(r=(n=a.props).onChange)||void 0===r||r.call(n,o,t)},a.handleTimeChange=function(e){var t,n;void 0===a.props.value&&a.setState({timeValue:e});var r=ce(a.state.dateValue,e);null===(n=(t=a.props).onChange)||void 0===n||n.call(t,r,!0)};var r=void 0!==a.props.value?a.props.value:a.props.defaultValue;return a.state={dateValue:r,timeValue:r},a}return Object(Ae.__extends)(t,e),t.prototype.render=function(){var e=ce(this.state.dateValue,this.state.timeValue);return Fe.createElement("div",{className:we()(F,this.props.className)},Fe.createElement(ut,Object(Ae.__assign)({},this.props.datePickerProps,{canClearSelection:this.props.canClearSelection,onChange:this.handleDateChange,value:e})),Fe.createElement(it,Object(Ae.__assign)({},this.props.timePickerProps,{onChange:this.handleTimeChange,value:e})))},t.prototype.componentDidUpdate=function(e){this.props.value!==e.value&&(null!=this.props.value?this.setState({dateValue:this.props.value,timeValue:this.props.value}):this.setState({dateValue:null}))},t.defaultProps={canClearSelection:!0,defaultValue:new Date},t.displayName=i.DISPLAYNAME_PREFIX+".DateTimePicker",t=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2),dt=function(){function e(e,t){this.date=null!==e&&null!==t?new Date(t,e):new Date}return e.fromDate=function(t){return null==t?void 0:new e(t.getMonth(),t.getFullYear())},e.prototype.clone=function(){return new e(this.getMonth(),this.getYear())},e.prototype.getFullDate=function(){return this.date},e.prototype.getMonth=function(){return this.date.getMonth()},e.prototype.getYear=function(){return this.date.getFullYear()},e.prototype.getPreviousMonth=function(){var t=de(this.date);return new e(t.getMonth(),t.getFullYear())},e.prototype.getNextMonth=function(){var t=he(this.date);return new e(t.getMonth(),t.getFullYear())},e.prototype.isBefore=function(e){return ht(this,e)<0},e.prototype.isAfter=function(e){return ht(this,e)>0},e.prototype.isSame=function(e){return 0===ht(this,e)},e.prototype.isSameMonth=function(e){return this.getMonth()===e.getMonth()},e}();function ht(e,t){var n=e.getMonth(),a=e.getYear(),r=t.getMonth(),o=t.getYear();return a===o?n-r:a-o}var gt=function(){function e(){}return e.getNextState=function(e,t,n,a){return null!=a?this.getNextStateForBoundary(e,t,n,a):this.getDefaultNextState(e,t,n)},e.getNextStateForBoundary=function(e,t,n,a){var r,o,i=this.getBoundaryDate(a,e),s=this.getOtherBoundary(a),l=this.getBoundaryDate(s,e);if(null==i&&null==l)r=a,o=this.createRangeForBoundary(a,t,null);else if(null!=i&&null==l){var u=X(i,t)?null:t;r=a,o=this.createRangeForBoundary(a,u,null)}else if(null==i&&null!=l)if(X(t,l)){var c=void 0;n?(r=a,c=l):(r=s,c=null),o=this.createRangeForBoundary(a,c,c)}else this.isOverlappingOtherBoundary(a,t,l)?(r=s,o=this.createRangeForBoundary(a,l,t)):(r=a,o=this.createRangeForBoundary(a,t,l));else if(X(i,t)){var p=X(i,l)?null:l;r=a,o=this.createRangeForBoundary(a,null,p)}else if(X(t,l)){var d=n?[l,l]:[i,null];u=d[0],p=d[1];r=n?a:s,o=this.createRangeForBoundary(a,u,p)}else this.isOverlappingOtherBoundary(a,t,l)?(r=a,o=this.createRangeForBoundary(a,t,null)):(r=a,o=this.createRangeForBoundary(a,t,l));return{dateRange:o,boundary:r}},e.getDefaultNextState=function(e,t,n){var a,r=e[0],o=e[1];if(null==r&&null==o)a=[t,null];else if(null!=r&&null==o)a=this.createRange(t,r,n);else if(null==r&&null!=o)a=this.createRange(t,o,n);else{var i=X(r,t),s=X(o,t);a=i&&s?[null,null]:i?[null,o]:s?[r,null]:[t,null]}return{dateRange:a}},e.getOtherBoundary=function(e){return e===i.Boundary.START?i.Boundary.END:i.Boundary.START},e.getBoundaryDate=function(e,t){return e===i.Boundary.START?t[0]:t[1]},e.isOverlappingOtherBoundary=function(e,t,n){return e===i.Boundary.START?t>n:t<n},e.createRangeForBoundary=function(e,t,n){return e===i.Boundary.START?[t,n]:[n,t]},e.createRange=function(e,t,n){return!n&&X(e,t)?[null,null]:e<t?[e,t]:[t,e]},e}(),ft=function(e){function t(t,n){var a,r=e.call(this,t,n)||this;r.modifiers=((a={})["selected-range"]=function(e){var t=r.state.value;return null!=t[0]&&null!=t[1]&&$(e,t,!0)},a["selected-range-start"]=function(e){return X(r.state.value[0],e)},a["selected-range-end"]=function(e){return X(r.state.value[1],e)},a["hovered-range"]=function(e){var t=r.state,n=t.hoverValue,a=t.value,o=a[0],i=a[1];return(null!=o||null!=i)&&(null!=n&&null!=n[0]&&null!=n[1]&&$(e,n,!0))},a["hovered-range-start"]=function(e){var t=r.state.hoverValue;return null!=t&&null!=t[0]&&X(t[0],e)},a["hovered-range-end"]=function(e){var t=r.state.hoverValue;return null!=t&&null!=t[1]&&X(t[1],e)},a),r.shouldHighlightCurrentDay=function(e){return r.props.highlightCurrentDay&&De(e)},r.getDateRangePickerModifiers=function(){var e=r.props.modifiers;return function(e,t){var n=e;if(null!=t){n={};for(var a=0,r=Object.keys(t);a<r.length;a++){var o=r[a];-1===$e.indexOf(o)&&(n[o]=t[o])}for(var i=0,s=Object.keys(e);i<s.length;i++){n[o=s[i]]=e[o]}}return n}(r.modifiers,Object(Ae.__assign)({isToday:r.shouldHighlightCurrentDay},e))},r.renderDay=function(e){var t=e.getDate();return Fe.createElement("div",{className:S},t)},r.disabledDays=function(e){return!$(e,[r.props.minDate,r.props.maxDate])},r.getDisabledDaysModifier=function(){var e=r.props.dayPickerProps.disabledDays;return e instanceof Array?Object(Ae.__spreadArrays)([r.disabledDays],e):[r.disabledDays,e]},r.handleTimeChange=function(e,t){var n,a,o,i;null===(a=null===(n=r.props.timePickerProps)||void 0===n?void 0:n.onChange)||void 0===a||a.call(n,e);var s=r.state,l=s.value,u=s.time,c=ce(null!=l[t]?Q(l[t]):new Date,e),p=[l[0],l[1]];p[t]=c;var d=[u[0],u[1]];d[t]=e,null===(i=(o=r.props).onChange)||void 0===i||i.call(o,p),r.setState({value:p,time:d})},r.handleTimeChangeLeftCalendar=function(e){r.handleTimeChange(e,0)},r.handleTimeChangeRightCalendar=function(e){r.handleTimeChange(e,1)},r.renderSingleNavbar=function(e){return Fe.createElement(nt,Object(Ae.__assign)({},e,{maxDate:r.props.maxDate,minDate:r.props.minDate}))},r.renderLeftNavbar=function(e){return Fe.createElement(nt,Object(Ae.__assign)({},e,{hideRightNavButton:r.props.contiguousCalendarMonths,maxDate:r.props.maxDate,minDate:r.props.minDate}))},r.renderRightNavbar=function(e){return Fe.createElement(nt,Object(Ae.__assign)({},e,{hideLeftNavButton:r.props.contiguousCalendarMonths,maxDate:r.props.maxDate,minDate:r.props.minDate}))},r.renderSingleCaption=function(e){return Fe.createElement(Qe,Object(Ae.__assign)({},e,{maxDate:r.props.maxDate,minDate:r.props.minDate,onMonthChange:r.handleLeftMonthSelectChange,onYearChange:r.handleLeftYearSelectChange,reverseMonthAndYearMenus:r.props.reverseMonthAndYearMenus}))},r.renderLeftCaption=function(e){return Fe.createElement(Qe,Object(Ae.__assign)({},e,{maxDate:de(r.props.maxDate),minDate:r.props.minDate,onMonthChange:r.handleLeftMonthSelectChange,onYearChange:r.handleLeftYearSelectChange,reverseMonthAndYearMenus:r.props.reverseMonthAndYearMenus}))},r.renderRightCaption=function(e){return Fe.createElement(Qe,Object(Ae.__assign)({},e,{maxDate:r.props.maxDate,minDate:he(r.props.minDate),onMonthChange:r.handleRightMonthSelectChange,onYearChange:r.handleRightYearSelectChange,reverseMonthAndYearMenus:r.props.reverseMonthAndYearMenus}))},r.handleDayMouseEnter=function(e,t,n){var a,o,i,s;if(null===(o=(a=r.props.dayPickerProps).onDayMouseEnter)||void 0===o||o.call(a,e,t,n),!t.disabled){var l=gt.getNextState(r.state.value,e,r.props.allowSingleDayRange,r.props.boundaryToModify),u=l.dateRange,c=l.boundary;r.setState({hoverValue:u}),null===(s=(i=r.props).onHoverChange)||void 0===s||s.call(i,u,e,c)}},r.handleDayMouseLeave=function(e,t,n){var a,o,i,s;null===(o=(a=r.props.dayPickerProps).onDayMouseLeave)||void 0===o||o.call(a,e,t,n),t.disabled||(r.setState({hoverValue:void 0}),null===(s=(i=r.props).onHoverChange)||void 0===s||s.call(i,void 0,e,void 0))},r.handleDayClick=function(e,t,n){var a,o;if(null===(o=(a=r.props.dayPickerProps).onDayClick)||void 0===o||o.call(a,e,t,n),t.disabled)r.forceUpdate();else{var i=gt.getNextState(r.state.value,e,r.props.allowSingleDayRange,r.props.boundaryToModify).dateRange;r.handleDayMouseEnter(e,t,n),r.handleNextState(i)}},r.handleShortcutClick=function(e,t){var n=r.props,a=n.onChange,o=n.contiguousCalendarMonths,i=n.onShortcutChange,s=e.dateRange;if(e.includeTime){var l=[s[0],s[1]],u=[s[0],s[1]],c=vt(r.state.value,s,r.state,o);r.setState(Object(Ae.__assign)(Object(Ae.__assign)({},c),{time:u})),null==a||a(l)}else r.handleNextState(s);void 0===r.props.selectedShortcutIndex&&r.setState({selectedShortcutIndex:t}),null==i||i(e,t)},r.handleNextState=function(e){var t,n,a=r.state.value;e[0]=ce(e[0],r.state.time[0]),e[1]=ce(e[1],r.state.time[1]);var o=vt(a,e,r.state,r.props.contiguousCalendarMonths);null==r.props.value&&r.setState(o),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,e)},r.handleLeftMonthChange=function(e){var t,n,a=dt.fromDate(e);null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate()),r.updateLeftView(a)},r.handleRightMonthChange=function(e){var t,n,a=dt.fromDate(e);null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate()),r.updateRightView(a)},r.handleLeftMonthSelectChange=function(e){var t,n,a=new dt(e,r.state.leftView.getYear());null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate()),r.updateLeftView(a)},r.handleRightMonthSelectChange=function(e){var t,n,a=new dt(e,r.state.rightView.getYear());null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate()),r.updateRightView(a)},r.handleLeftYearSelectChange=function(e){var t,n,a=new dt(r.state.leftView.getMonth(),e);null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate());var o=r.props,i=o.minDate,s=de(o.maxDate),l=new dt(i.getMonth(),i.getFullYear()),u=new dt(s.getMonth(),s.getFullYear());a.isBefore(l)?a=l:a.isAfter(u)&&(a=u);var c=r.state.rightView.clone();a.isBefore(c)&&!r.props.contiguousCalendarMonths||(c=a.getNextMonth()),r.setViews(a,c)},r.handleRightYearSelectChange=function(e){var t,n,a=new dt(r.state.rightView.getMonth(),e);null===(n=(t=r.props.dayPickerProps).onMonthChange)||void 0===n||n.call(t,a.getFullDate());var o=r.props,i=o.minDate,s=o.maxDate,l=he(i),u=dt.fromDate(l),c=dt.fromDate(s);a.isBefore(u)?a=u:a.isAfter(c)&&(a=c);var p=r.state.leftView.clone();a.isAfter(p)&&!r.props.contiguousCalendarMonths||(p=a.getPreviousMonth()),r.setViews(p,a)};var o=function(e){if(null!=e.value)return e.value;if(null!=e.defaultValue)return e.defaultValue;return[null,null]}(t),i=o,s=function(e,t){var n=new Date;if(null!=e.initialMonth)return e.initialMonth;if(null!=t[0])return Q(t[0]);if(null!=t[1]){var a=Q(t[1]);return Z(a,e.minDate)||a.setMonth(a.getMonth()-1),a}return $(n,[e.minDate,e.maxDate])?n:ue([e.minDate,e.maxDate])}(t,o),l=Z(s,t.minDate),u=Z(s,t.maxDate);t.singleMonthOnly||l||!u||s.setMonth(s.getMonth()-1);var c=dt.fromDate(s),p=o[1],d=t.contiguousCalendarMonths||null==p||Z(s,p)?c.getNextMonth():dt.fromDate(p);return r.state={hoverValue:[null,null],leftView:c,rightView:d,selectedShortcutIndex:void 0!==r.props.selectedShortcutIndex?r.props.selectedShortcutIndex:-1,time:i,value:o},r}var n;return Object(Ae.__extends)(t,e),n=t,t.prototype.render=function(){var e,t=this.props,n=t.className,a=t.contiguousCalendarMonths,r=t.singleMonthOnly||Z(this.props.minDate,this.props.maxDate),o=we()(c,b,n,((e={})[T]=a,e[_]=r,e));return Fe.createElement("div",{className:o},this.maybeRenderShortcuts(),Fe.createElement("div",null,this.renderCalendars(r),this.maybeRenderTimePickers()))},t.prototype.componentDidUpdate=function(t,n){if(e.prototype.componentDidUpdate.call(this,t,n),!J(t.value,this.props.value)||t.contiguousCalendarMonths!==this.props.contiguousCalendarMonths){var a=vt(t.value,this.props.value,this.state,t.contiguousCalendarMonths);this.setState(a)}this.props.selectedShortcutIndex!==t.selectedShortcutIndex&&this.setState({selectedShortcutIndex:this.props.selectedShortcutIndex})},t.prototype.validateProps=function(e){var t=e.defaultValue,n=e.initialMonth,a=e.maxDate,r=e.minDate,o=e.boundaryToModify,s=e.value,l=[r,a];if(null!=t&&!ee(t,l))throw new Error(qe);if(null!=n&&!te(n,l))throw new Error(Je);if(null!=a&&null!=r&&a<r&&!X(a,r))throw new Error(Xe);if(null!=s&&!ee(s,l))throw new Error(Ze);if(null!=o&&o!==i.Boundary.START&&o!==i.Boundary.END)throw new Error("<DateRangePicker> preferredBoundaryToModify must be a valid Boundary if defined.")},t.prototype.maybeRenderShortcuts=function(){var e=this.props.shortcuts;if(null==e||!1===e)return null;var t=this.state.selectedShortcutIndex,n=this.props,a=n.allowSingleDayRange,r=n.maxDate,o=n.minDate,s=n.timePrecision;return[Fe.createElement(at,Object(Ae.__assign)({key:"shortcuts"},{allowSingleDayRange:a,maxDate:r,minDate:o,selectedShortcutIndex:t,shortcuts:e,timePrecision:s},{onShortcutClick:this.handleShortcutClick})),Fe.createElement(i.Divider,{key:"div"})]},t.prototype.maybeRenderTimePickers=function(){var e=this.props,t=e.timePrecision,a=e.timePickerProps;return null==t&&a===n.defaultProps.timePickerProps?null:Fe.createElement("div",{className:w},Fe.createElement(it,Object(Ae.__assign)({precision:t},a,{onChange:this.handleTimeChangeLeftCalendar,value:this.state.time[0]})),Fe.createElement(it,Object(Ae.__assign)({precision:t},a,{onChange:this.handleTimeChangeRightCalendar,value:this.state.time[1]})))},t.prototype.renderCalendars=function(e){var t,n,a,r=this.props,o=r.dayPickerProps,i=r.locale,s=r.localeUtils,l=r.maxDate,u=r.minDate,c=Object(Ae.__assign)(Object(Ae.__assign)({locale:i,localeUtils:s,modifiers:this.getDateRangePickerModifiers(),showOutsideDays:!0},o),{disabledDays:this.getDisabledDaysModifier(),onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,onDayMouseLeave:this.handleDayMouseLeave,selectedDays:this.state.value});return e?Fe.createElement(He.a,Object(Ae.__assign)({},c,{captionElement:this.renderSingleCaption,navbarElement:this.renderSingleNavbar,fromMonth:u,month:this.state.leftView.getFullDate(),numberOfMonths:1,onMonthChange:this.handleLeftMonthChange,toMonth:l,renderDay:null!==(t=null==o?void 0:o.renderDay)&&void 0!==t?t:this.renderDay})):[Fe.createElement(He.a,Object(Ae.__assign)({key:"left"},c,{canChangeMonth:!0,captionElement:this.renderLeftCaption,navbarElement:this.renderLeftNavbar,fromMonth:u,month:this.state.leftView.getFullDate(),numberOfMonths:1,onMonthChange:this.handleLeftMonthChange,toMonth:de(l),renderDay:null!==(n=null==o?void 0:o.renderDay)&&void 0!==n?n:this.renderDay})),Fe.createElement(He.a,Object(Ae.__assign)({key:"right"},c,{canChangeMonth:!0,captionElement:this.renderRightCaption,navbarElement:this.renderRightNavbar,fromMonth:he(u),month:this.state.rightView.getFullDate(),numberOfMonths:1,onMonthChange:this.handleRightMonthChange,toMonth:l,renderDay:null!==(a=null==o?void 0:o.renderDay)&&void 0!==a?a:this.renderDay}))]},t.prototype.updateLeftView=function(e){var t=this.state.rightView.clone();e.isBefore(t)&&!this.props.contiguousCalendarMonths||(t=e.getNextMonth()),this.setViews(e,t)},t.prototype.updateRightView=function(e){var t=this.state.leftView.clone();e.isAfter(t)&&!this.props.contiguousCalendarMonths||(t=e.getPreviousMonth()),this.setViews(t,e)},t.prototype.setViews=function(e,t){this.setState({leftView:e,rightView:t})},t.defaultProps={allowSingleDayRange:!1,contiguousCalendarMonths:!0,dayPickerProps:{},maxDate:et(),minDate:tt(),reverseMonthAndYearMenus:!1,shortcuts:!0,singleMonthOnly:!1,timePickerProps:{}},t.displayName=i.DISPLAYNAME_PREFIX+".DateRangePicker",t=n=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2);function vt(e,t,n,a){if(null!=e&&null==t)return{value:[null,null]};if(null!=t){var r=n.leftView.clone(),o=n.rightView.clone(),i=dt.fromDate(t[0]),s=dt.fromDate(t[1]);return null==i&&null!=s?s.isSame(r)||s.isSame(o)||(o=s,r.isBefore(o)||(r=o.getPreviousMonth())):null!=i&&null==s?i.isSame(r)||i.isSame(o)||(r=i,o.isAfter(r)||(o=r.getNextMonth())):null!=i&&null!=s&&(i.isSame(s)?r.isSame(i)||o.isSame(i)||(r=i,o=i.getNextMonth()):(r.isSame(i)||(r=i,o=i.getNextMonth()),!1!==a||o.isSame(s)||(o=s))),{leftView:r,rightView:o,value:t}}return!0!==a||n.leftView.getNextMonth().isSameMonth(n.rightView)?{}:{rightView:n.leftView.getNextMonth()}}var mt=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.startInputRef=null,a.endInputRef=null,a.refHandlers={endInputRef:Object(i.isRefObject)(a.props.endInputProps.inputRef)?a.endInputRef=a.props.endInputProps.inputRef:function(e){var t;a.endInputRef=e,null===(t=a.props.endInputProps.inputRef)||void 0===t||t(e)},startInputRef:Object(i.isRefObject)(a.props.startInputProps.inputRef)?a.startInputRef=a.props.startInputProps.inputRef:function(e){var t;a.startInputRef=e,null===(t=a.props.startInputProps.inputRef)||void 0===t||t(e)}},a.renderInputGroup=function(e){var t=a.getInputProps(e),n=e===i.Boundary.START?a.handleStartInputEvent:a.handleEndInputEvent;return Fe.createElement(i.InputGroup,Object(Ae.__assign)({autoComplete:"off",disabled:t.disabled||a.props.disabled},t,{intent:a.isInputInErrorState(e)?i.Intent.DANGER:t.intent,inputRef:a.getInputRef(e),onBlur:n,onChange:n,onClick:n,onFocus:n,onKeyDown:n,onMouseDown:n,placeholder:a.getInputPlaceholderString(e),value:a.getInputDisplayString(e)}))},a.handleDateRangePickerChange=function(e,t){var n,r;if(void 0===t&&(t=!1),a.state.isOpen){var o,s,l,u,c,p=e[0],d=e[1],h=!0;null==p?(null==a.props.timePrecision?(o=!0,s=!1):(o=!1,s=!1,c=i.Boundary.START),l=null):null==d?(null==a.props.timePrecision?(o=!1,s=!0):(o=!1,s=!1,c=i.Boundary.END),u=null):a.props.closeOnSelection?(h=a.getIsOpenValueWhenDateChanges(p,d),o=!1,null==a.props.timePrecision&&t?s=!0:(s=!1,c=i.Boundary.END)):a.state.lastFocusedField===i.Boundary.START?null==a.props.timePrecision?(o=!0,s=!1):(o=!1,s=!1,c=i.Boundary.START):null==a.props.timePrecision?(o=!1,s=!0):(o=!1,s=!1,c=i.Boundary.END);var g={boundaryToModify:c,endHoverString:u,endInputString:a.formatDate(d),isEndInputFocused:s,isOpen:h,isStartInputFocused:o,startHoverString:l,startInputString:a.formatDate(p),wasLastFocusChangeDueToHover:!1};a.isControlled()?a.setState(g):a.setState(Object(Ae.__assign)(Object(Ae.__assign)({},g),{selectedEnd:d,selectedStart:p})),null===(r=(n=a.props).onChange)||void 0===r||r.call(n,e)}},a.handleShortcutChange=function(e,t){a.setState({selectedShortcutIndex:t})},a.handleDateRangePickerHoverChange=function(e,t,n){if(a.state.isOpen)if(null==e){var r=a.state.boundaryToModify===i.Boundary.END;a.setState({endHoverString:null,isEndInputFocused:r,isStartInputFocused:!r,lastFocusedField:a.state.boundaryToModify,startHoverString:null})}else{var o=e[0],s=e[1],l=null!=n?n===i.Boundary.START:a.state.isStartInputFocused;r=null!=n?n===i.Boundary.END:a.state.isEndInputFocused;a.setState({endHoverString:a.formatDate(s),isEndInputFocused:r,isStartInputFocused:l,lastFocusedField:l?i.Boundary.START:i.Boundary.END,shouldSelectAfterUpdate:a.props.selectAllOnFocus,startHoverString:a.formatDate(o),wasLastFocusChangeDueToHover:!0})}},a.handleStartInputEvent=function(e){a.handleInputEvent(e,i.Boundary.START)},a.handleEndInputEvent=function(e){a.handleInputEvent(e,i.Boundary.END)},a.handleInputEvent=function(e,t){var n,r,o,i,s,l,u=a.getInputProps(t);switch(e.type){case"blur":a.handleInputBlur(e,t),null===(n=u.onBlur)||void 0===n||n.call(u,e);break;case"change":a.handleInputChange(e,t),null===(r=u.onChange)||void 0===r||r.call(u,e);break;case"click":e=e,a.handleInputClick(e),null===(o=u.onClick)||void 0===o||o.call(u,e);break;case"focus":a.handleInputFocus(e,t),null===(i=u.onFocus)||void 0===i||i.call(u,e);break;case"keydown":e=e,a.handleInputKeyDown(e),null===(s=u.onKeyDown)||void 0===s||s.call(u,e);break;case"mousedown":e=e,a.handleInputMouseDown(),null===(l=u.onMouseDown)||void 0===l||l.call(u,e)}},a.handleInputKeyDown=function(e){var t=e.which===i.Keys.TAB,n=e.which===i.Keys.ENTER,r=e.shiftKey,o=a.state,s=o.selectedStart,l=o.selectedEnd,u=a.state.lastFocusedField===i.Boundary.START,c=a.state.lastFocusedField===i.Boundary.END;if(t){var p=void 0,d=void 0,h=!0;u&&!r?(d=!1,p=!0,e.preventDefault()):c&&r?(d=!0,p=!1,e.preventDefault()):(d=!1,p=!1,h=!1),a.setState({isEndInputFocused:p,isOpen:h,isStartInputFocused:d,wasLastFocusChangeDueToHover:!1})}else if(u&&n){var g=a.parseDate(a.state.startInputString);a.handleDateRangePickerChange([g,l],!0)}else{if(!c||!n)return;var f=a.parseDate(a.state.endInputString);a.handleDateRangePickerChange([s,f],!0)}},a.handleInputMouseDown=function(){a.setState({wasLastFocusChangeDueToHover:!1})},a.handleInputClick=function(e){e.stopPropagation()},a.handleInputFocus=function(e,t){var n,r=a.getStateKeysAndValuesForBoundary(t),o=r.keys,i=Ue(r.values.selectedValue,a.props,!0),s=a.state.wasLastFocusChangeDueToHover?a.state.boundaryToModify:t;a.setState(((n={})[o.inputString]=i,n[o.isInputFocused]=!0,n.boundaryToModify=s,n.isOpen=!0,n.lastFocusedField=t,n.shouldSelectAfterUpdate=a.props.selectAllOnFocus,n.wasLastFocusChangeDueToHover=!1,n))},a.handleInputBlur=function(e,t){var n,r,o,i,s,l,u=a.getStateKeysAndValuesForBoundary(t),c=u.keys,p=u.values,d=a.parseDate(p.inputString),h=a.isControlled(),g=((n={})[c.isInputFocused]=!1,n.shouldSelectAfterUpdate=!1,n);a.isInputEmpty(p.inputString)?g=h?Object(Ae.__assign)(Object(Ae.__assign)({},g),((r={})[c.inputString]=Ue(p.controlledValue,a.props),r)):Object(Ae.__assign)(Object(Ae.__assign)({},g),((o={})[c.inputString]=null,o[c.selectedValue]=null,o)):a.isNextDateRangeValid(d,t)||(h||(g=Object(Ae.__assign)(Object(Ae.__assign)({},g),((i={})[c.inputString]=null,i[c.selectedValue]=d,i))),null===(l=(s=a.props).onError)||void 0===l||l.call(s,a.getDateRangeForCallback(d,t))),a.setState(g)},a.handleInputChange=function(e,t){var n,r,o,i,s,l,u,c,p,d=e.target.value,h=a.getStateKeysAndValuesForBoundary(t).keys,g=a.parseDate(d),f=a.isControlled(),v={shouldSelectAfterUpdate:!1};if(0===d.length){var m=Object(Ae.__assign)(Object(Ae.__assign)({},v),((n={})[h.inputString]="",n));v=f?m:Object(Ae.__assign)(Object(Ae.__assign)({},m),((r={})[h.selectedValue]=null,r)),null===(u=(l=a.props).onChange)||void 0===u||u.call(l,a.getDateRangeForCallback(null,t))}else if(a.isDateValidAndInRange(g)){m=Object(Ae.__assign)(Object(Ae.__assign)({},v),((o={})[h.hoverString]=null,o[h.inputString]=d,o));v=f?m:Object(Ae.__assign)(Object(Ae.__assign)({},m),((i={})[h.selectedValue]=g,i)),a.isNextDateRangeValid(g,t)&&(null===(p=(c=a.props).onChange)||void 0===p||p.call(c,a.getDateRangeForCallback(g,t)))}else v=Object(Ae.__assign)(Object(Ae.__assign)({},v),((s={})[h.inputString]=d,s[h.hoverString]=null,s));a.setState(v)},a.handlePopoverClose=function(e){var t,n;a.setState({isOpen:!1}),null===(n=(t=a.props.popoverProps).onClose)||void 0===n||n.call(t,e)},a.getIsOpenValueWhenDateChanges=function(e,t){if(a.props.closeOnSelection){if(null==a.props.timePrecision)return!1;var n=new Date((new Date).setHours(0,0,0,0)),r=a.getSelectedRange([n,n]),o=r[0],i=r[1];return!0!==z(o,e)||!0!==z(i,t)}return!0},a.getInitialRange=function(e){void 0===e&&(e=a.props);var t=e.defaultValue,n=e.value;return null!=n?n:null!=t?t:[null,null]},a.getSelectedRange=function(e){var t,n,r;return a.isControlled()?(n=(t=a.props.value)[0],r=t[1]):(n=a.state.selectedStart,r=a.state.selectedEnd),[n,a.doBoundaryDatesOverlap(n,i.Boundary.START)?void 0:r].map((function(t,n){var r=null!=e?e[n]:void 0;return a.isDateValidAndInRange(t)?t:r}))},a.getInputDisplayString=function(e){var t=a.getStateKeysAndValuesForBoundary(e).values,n=t.isInputFocused,r=t.inputString,o=t.selectedValue,i=t.hoverString;return null!=i?i:n?null==r?"":r:null==o?"":a.doesEndBoundaryOverlapStartBoundary(o,e)?a.props.overlappingDatesMessage:Ue(o,a.props)},a.getInputPlaceholderString=function(e){var t=e===i.Boundary.START,n=e===i.Boundary.END,r=a.getInputProps(e),o=a.getStateKeysAndValuesForBoundary(e).values.isInputFocused;return null!=r.placeholder?r.placeholder:t?o?a.state.formattedMinDateString:"Start date":n?o?a.state.formattedMaxDateString:"End date":""},a.getInputProps=function(e){return e===i.Boundary.START?a.props.startInputProps:a.props.endInputProps},a.getInputRef=function(e){return e===i.Boundary.START?a.refHandlers.startInputRef:a.refHandlers.endInputRef},a.getStateKeysAndValuesForBoundary=function(e){var t=a.props.value;return e===i.Boundary.START?{keys:{hoverString:"startHoverString",inputString:"startInputString",isInputFocused:"isStartInputFocused",selectedValue:"selectedStart"},values:{controlledValue:null!=t?t[0]:void 0,hoverString:a.state.startHoverString,inputString:a.state.startInputString,isInputFocused:a.state.isStartInputFocused,selectedValue:a.state.selectedStart}}:{keys:{hoverString:"endHoverString",inputString:"endInputString",isInputFocused:"isEndInputFocused",selectedValue:"selectedEnd"},values:{controlledValue:null!=t?t[1]:void 0,hoverString:a.state.endHoverString,inputString:a.state.endInputString,isInputFocused:a.state.isEndInputFocused,selectedValue:a.state.selectedEnd}}},a.getDateRangeForCallback=function(e,t){var n=a.getOtherBoundary(t),r=a.getStateKeysAndValuesForBoundary(n).values.selectedValue;return t===i.Boundary.START?[e,r]:[r,e]},a.getOtherBoundary=function(e){return e===i.Boundary.START?i.Boundary.END:i.Boundary.START},a.doBoundaryDatesOverlap=function(e,t){var n=a.props.allowSingleDayRange,r=a.getOtherBoundary(t),o=a.getStateKeysAndValuesForBoundary(r).values.selectedValue;return null!=e&&null!=o&&(t===i.Boundary.START?e>o||!n&&He.a.DateUtils.isSameDay(e,o):e<o||!n&&He.a.DateUtils.isSameDay(e,o))},a.doesEndBoundaryOverlapStartBoundary=function(e,t){return t!==i.Boundary.START&&a.doBoundaryDatesOverlap(e,t)},a.isControlled=function(){return void 0!==a.props.value},a.isInputEmpty=function(e){return null==e||0===e.length},a.isInputInErrorState=function(e){var t=a.getStateKeysAndValuesForBoundary(e).values,n=t.isInputFocused,r=t.hoverString,o=t.inputString,i=t.selectedValue;if(null!=r||a.isInputEmpty(o))return!1;var s=n?a.parseDate(o):i;return null!=s&&(!a.isDateValidAndInRange(s)||a.doesEndBoundaryOverlapStartBoundary(s,e))},a.isDateValidAndInRange=function(e){return G(e)&&$(e,[a.props.minDate,a.props.maxDate])},a.reset(t),a}var n;return Object(Ae.__extends)(t,e),n=t,t.prototype.reset=function(e){void 0===e&&(e=this.props);var t=this.getInitialRange(),n=t[0],a=t[1];this.state={formattedMaxDateString:this.getFormattedMinMaxDateString(e,"maxDate"),formattedMinDateString:this.getFormattedMinMaxDateString(e,"minDate"),isOpen:!1,selectedEnd:a,selectedShortcutIndex:-1,selectedStart:n}},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n);var a=this.state,r=a.isStartInputFocused,o=a.isEndInputFocused,s=a.shouldSelectAfterUpdate,l=Object(i.getRef)(this.startInputRef),u=Object(i.getRef)(this.endInputRef),c=this.shouldFocusInputRef(r,l),p=this.shouldFocusInputRef(o,u);c?l.focus():p&&u.focus(),r&&s?l.select():o&&s&&u.select();var d={};if(this.props.value!==t.value){var h=this.getInitialRange(this.props),g=h[0],f=h[1];d=Object(Ae.__assign)(Object(Ae.__assign)({},d),{selectedStart:g,selectedEnd:f})}if(this.props.minDate!==t.minDate){var v=this.getFormattedMinMaxDateString(this.props,"minDate");d=Object(Ae.__assign)(Object(Ae.__assign)({},d),{formattedMinDateString:v})}if(this.props.maxDate!==t.maxDate){var m=this.getFormattedMinMaxDateString(this.props,"maxDate");d=Object(Ae.__assign)(Object(Ae.__assign)({},d),{formattedMaxDateString:m})}this.setState(d)},t.prototype.render=function(){var e=this.state.selectedShortcutIndex,t=this.props.popoverProps,n=void 0===t?{}:t,a=Fe.createElement(ft,Object(Ae.__assign)({},this.props,{selectedShortcutIndex:e,boundaryToModify:this.state.boundaryToModify,onChange:this.handleDateRangePickerChange,onShortcutChange:this.handleShortcutChange,onHoverChange:this.handleDateRangePickerHoverChange,value:this.getSelectedRange()})),r=we()(n.className,this.props.className);return Fe.createElement(i.Popover,Object(Ae.__assign)({isOpen:this.state.isOpen,position:i.Position.BOTTOM_LEFT},this.props.popoverProps,{autoFocus:!1,className:r,content:a,enforceFocus:!1,onClose:this.handlePopoverClose}),Fe.createElement("div",{className:i.Classes.CONTROL_GROUP},this.renderInputGroup(i.Boundary.START),this.renderInputGroup(i.Boundary.END)))},t.prototype.validateProps=function(e){if(null===e.value)throw new Error("[Blueprint] <DateRangeInput> value cannot be null. Pass undefined to clear the value and operate in uncontrolled mode, or pass [null, null] to clear the value and continue operating in controlled mode.")},t.prototype.shouldFocusInputRef=function(e,t){return e&&void 0!==t&&document.activeElement!==t},t.prototype.isNextDateRangeValid=function(e,t){return this.isDateValidAndInRange(e)&&!this.doBoundaryDatesOverlap(e,t)},t.prototype.getFormattedMinMaxDateString=function(e,t){var a=e[t],r=n.defaultProps[t];return Ue(void 0===a?r:a,this.props)},t.prototype.parseDate=function(e){if(e===this.props.outOfRangeMessage||e===this.props.invalidDateMessage)return null;var t=this.props,n=t.locale,a=(0,t.parseDate)(e,n);return!1===a?new Date(void 0):a},t.prototype.formatDate=function(e){if(!this.isDateValidAndInRange(e))return"";var t=this.props,n=t.locale;return(0,t.formatDate)(e,n)},t.defaultProps={allowSingleDayRange:!1,closeOnSelection:!0,contiguousCalendarMonths:!0,dayPickerProps:{},disabled:!1,endInputProps:{},invalidDateMessage:"Invalid date",maxDate:et(),minDate:tt(),outOfRangeMessage:"Out of range",overlappingDatesMessage:"Overlapping dates",popoverProps:{},selectAllOnFocus:!1,shortcuts:!0,singleMonthOnly:!1,startInputProps:{}},t.displayName=i.DISPLAYNAME_PREFIX+".DateRangeInput",t=n=Object(Ae.__decorate)([Ve],t)}(i.AbstractPureComponent2),Dt=a}])}));