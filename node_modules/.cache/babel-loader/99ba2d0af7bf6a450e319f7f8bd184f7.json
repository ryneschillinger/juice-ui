{"ast":null,"code":"var _jsxFileName = \"/Users/ryneschillinger1/dev_projects/candy-ui/candy-ui/src/@candy-ui/core/Select/SelectFunctions.jsx\";\nimport Menu from \"../../core/Menu\";\nimport MenuItem from \"../../core/Menu/MenuItem\";\nimport React from \"react\";\nexport const renderItem = (item, {\n  handleClick,\n  modifiers,\n  query\n}) => {\n  if (!modifiers.matchesPredicate) {\n    return null;\n  }\n\n  const text = \"\".concat(item.rank, \". \").concat(item.title);\n  return React.createElement(MenuItem, {\n    active: modifiers.active,\n    disabled: modifiers.disabled,\n    label: item.year.toString(),\n    key: item.rank,\n    onClick: handleClick,\n    text: highlightText(text, query),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  });\n};\nexport const renderMenuList = ({\n  items,\n  itemsParentRef,\n  query,\n  renderItem\n}) => {\n  const renderedItems = items.map(renderItem).filter(item => item != null);\n  return React.createElement(Menu, {\n    type: \"default\",\n    view: \"smooth\",\n    color: \"primary\",\n    ulRef: itemsParentRef,\n    style: {\n      maxHeight: \"400px\",\n      overflow: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, renderedItems.length < 1 && React.createElement(MenuItem, {\n    type: \"default\",\n    view: \"smooth\",\n    color: \"primary\",\n    disabled: true,\n    text: \"No results matching \\\"\".concat(query, \"\\\"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), renderedItems);\n};\nexport const filterItem = (query, item) => {\n  return \"\".concat(item.rank, \". \").concat(item.title.toLowerCase(), \" \").concat(item.year).indexOf(query.toLowerCase()) >= 0;\n};\n\nfunction highlightText(text, query) {\n  let lastIndex = 0;\n  const words = query.split(/\\s+/).filter(word => word.length > 0).map(escapeRegExpChars);\n\n  if (words.length === 0) {\n    return [text];\n  }\n\n  const regexp = new RegExp(words.join(\"|\"), \"gi\");\n  const tokens = [];\n\n  while (true) {\n    const match = regexp.exec(text);\n\n    if (!match) {\n      break;\n    }\n\n    const length = match[0].length;\n    const before = text.slice(lastIndex, regexp.lastIndex - length);\n\n    if (before.length > 0) {\n      tokens.push(before);\n    }\n\n    lastIndex = regexp.lastIndex;\n    tokens.push(React.createElement(\"strong\", {\n      key: lastIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, match[0]));\n  }\n\n  const rest = text.slice(lastIndex);\n\n  if (rest.length > 0) {\n    tokens.push(rest);\n  }\n\n  return tokens;\n}\n\nfunction escapeRegExpChars(text) {\n  return text.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n}\n\nexport const itemSelectProps = {\n  itemPredicate: filterItem,\n  itemRenderer: renderItem,\n  itemListRenderer: renderMenuList,\n  items: TOP_100_FILMS\n};","map":{"version":3,"sources":["/Users/ryneschillinger1/dev_projects/candy-ui/candy-ui/src/@candy-ui/core/Select/SelectFunctions.jsx"],"names":["Menu","MenuItem","React","renderItem","item","handleClick","modifiers","query","matchesPredicate","text","rank","title","active","disabled","year","toString","highlightText","renderMenuList","items","itemsParentRef","renderedItems","map","filter","maxHeight","overflow","length","filterItem","toLowerCase","indexOf","lastIndex","words","split","word","escapeRegExpChars","regexp","RegExp","join","tokens","match","exec","before","slice","push","rest","replace","itemSelectProps","itemPredicate","itemRenderer","itemListRenderer","TOP_100_FILMS"],"mappings":"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","sourcesContent":["import Menu from \"../../core/Menu\";\nimport MenuItem from \"../../core/Menu/MenuItem\";\nimport React from \"react\";\n\nexport const renderItem  = (\n  item,\n  { handleClick, modifiers, query }\n) => {\n  if (!modifiers.matchesPredicate) {\n    return null;\n  }\n  const text = `${item.rank}. ${item.title}`;\n  return (\n    <MenuItem\n      active={modifiers.active}\n      disabled={modifiers.disabled}\n      label={item.year.toString()}\n      key={item.rank}\n      onClick={handleClick}\n      text={highlightText(text, query)}\n    />\n  );\n};\n\nexport const renderMenuList = ({ items, itemsParentRef, query, renderItem }) => {\n  const renderedItems = items.map(renderItem).filter(item => item != null);\n  return (\n      <Menu\n        type=\"default\"\n        view=\"smooth\"\n        color=\"primary\"\n        ulRef={itemsParentRef}\n        style={{ maxHeight: \"400px\", overflow: \"auto\" }}\n      >\n        { renderedItems.length < 1 && \n          <MenuItem\n            type=\"default\"\n            view=\"smooth\"\n            color=\"primary\"\n            disabled={true}\n            text={`No results matching \"${query}\"`}\n          />\n        }\n        {renderedItems}\n      </Menu>\n  );\n};\n\nexport const filterItem = (query, item) => {\n  return (\n    `${item.rank}. ${item.title.toLowerCase()} ${item.year}`.indexOf(\n      query.toLowerCase()\n    ) >= 0\n  );\n};\n\nfunction highlightText(text, query) {\n  let lastIndex = 0;\n  const words = query\n    .split(/\\s+/)\n    .filter((word) => word.length > 0)\n    .map(escapeRegExpChars);\n  if (words.length === 0) {\n    return [text];\n  }\n  const regexp = new RegExp(words.join(\"|\"), \"gi\");\n  const tokens = [];\n  while (true) {\n    const match = regexp.exec(text);\n    if (!match) {\n      break;\n    }\n    const length = match[0].length;\n    const before = text.slice(lastIndex, regexp.lastIndex - length);\n    if (before.length > 0) {\n      tokens.push(before);\n    }\n    lastIndex = regexp.lastIndex;\n    tokens.push(<strong key={lastIndex}>{match[0]}</strong>);\n  }\n  const rest = text.slice(lastIndex);\n  if (rest.length > 0) {\n    tokens.push(rest);\n  }\n  return tokens;\n}\n\nfunction escapeRegExpChars(text) {\n  return text.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n}\n\nexport const itemSelectProps = {\n  itemPredicate: filterItem,\n  itemRenderer: renderItem,\n  itemListRenderer: renderMenuList,\n  items: TOP_100_FILMS\n};\n"]},"metadata":{},"sourceType":"module"}